// refer: https://github.com/Peng-YM/QuanX/blob/master/Tools/XMLParser/xml-parser.js
// refer: https://goessner.net/download/prj/jsonxml/json2xml.js
// minify: https://www.digitalocean.com/community/tools/minify
function XMLs(e){return new class{#e="@";#t="#";#r={"&amp;":"&","&lt;":"<","&gt;":">","&apos;":"'","&quot;":'"'};#s={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&apos;",'"':"&quot;"};constructor(e){this.name="XML v0.3.6-2",this.opts=e,BigInt.prototype.toJSON=()=>this.toString()}parse(e=new String,t=""){const r=this.#r,s=this.#e,n=this.#t;let a=function e(t,r){let a;switch(typeof t){case"string":case"undefined":a=t;break;case"object":const l=t.raw,u=t.name,f=t.tag,$=t.children;a=l||(f?function(e,t){if(!e)return;const r=e.split(/([^\s='"]+(?:\s*=\s*(?:'[\S\s]*?'|"[\S\s]*?"|[^\s'"]*))?)/),n=r.length;let a,i;for(let e=0;e<n;e++){let n=l(r[e]);if(!n)continue;a||(a={});const u=n.indexOf("=");if(u<0)n=s+n,i=null;else{i=n.substr(u+1).replace(/^\s+/,""),n=s+n.substr(0,u).replace(/\s+$/,"");const e=i[0];e!==i[i.length-1]||"'"!==e&&'"'!==e||(i=i.substr(1,i.length-2)),i=c(i)}t&&(i=t(n,i)),o(a,n,i)}return a;function l(e){return e?.trim?.()}}(f,r):$?{}:{[u]:void 0}),"plist"===u?a=Object.assign(a,i($[0],r)):$?.forEach?.(((t,s)=>{"string"==typeof t?o(a,n,e(t,r),void 0):t.tag||t.children||t.raw?o(a,t.name,e(t,r),void 0):o(a,t.name,e(t,r),$?.[s-1]?.name)})),r&&(a=r(u||"",a))}return a;function o(e,t,r,s=t){if(void 0!==r){const n=e[s];Array.isArray(n)?n.push(r):n?e[s]=[n,r]:e[t]=r}}}(function(e){const t=e.split(/<([^!<>?](?:'[\S\s]*?'|"[\S\s]*?"|[^'"<>])*|!(?:--[\S\s]*?--|\[[^\[\]'"<>]+\[[\S\s]*?]]|DOCTYPE[^\[<>]*?\[[\S\s]*?]|(?:ENTITY[^"<>]*?"[\S\s]*?")?[\S\s]*?)|\?[\S\s]*?\?)>/),r=t.length,s={children:[]};let n=s;const a=[];for(let e=0;e<r;){const r=t[e++];r&&o(r);const s=t[e++];s&&i(s)}return s;function i(e){let t={};switch(e[0]){case"/":const r=e.replace(/^\/|[\s\/].*$/g,"").toLowerCase();for(;a.length;){const e=n?.name?.toLowerCase?.();if(n=a.pop(),e===r)break}break;case"?":"xml"===e.slice(1,4)?(t.name="?xml",t.raw=e.slice(5,-1)):(t.name="?",t.raw=e.slice(1,-1)),l(t);break;case"!":"DOCTYPE"===e.slice(1,8)?(t.name="!DOCTYPE",t.raw=e.slice(9)):"[CDATA["===e.slice(1,8)&&"]]"===e.slice(-2)?(t.name="!CDATA",t.raw=e.slice(9,-2)):(t.name="!",t.raw=e.slice(1)),l(t);break;default:if(t=function(e){const t={children:[]};e=e.replace(/\s*\/?$/,"");const r=e.search(/[\s='"\/]/);r<0?t.name=e:(t.name=e.substr(0,r),t.tag=e.substr(r));return t}(e),l(t),"/"===e.slice(-1))delete t.children;else a.push(n),n=t}}function o(e){(e=function(e){return e?.replace?.(/^(\r\n|\r|\n|\t)+|(\r\n|\r|\n|\t)+$/g,"")}(e))&&l(c(e))}function l(e){n.children.push(e)}}(e),t);return a;function i(e,t){let r;switch(typeof e){case"string":case"undefined":r=e;break;case"object":const s=e.name,n=e.children;switch(r={},s){case"plist":let e=i(n[0],t);r=Object.assign(r,e);break;case"dict":let a=n.map((e=>i(e,t)));a=function(e,t){var r=0,s=[];for(;r<e.length;)s.push(e.slice(r,r+=t));return s}(a,2),r=Object.fromEntries(a);break;case"array":Array.isArray(r)||(r=[]),r=n.map((e=>i(e,t)));break;case"key":r=n[0];break;case"true":case"false":const c=s;r=JSON.parse(c);break;case"integer":const o=n[0];r=BigInt(o);break;case"real":const l=n[0];r=parseFloat(l);break;case"string":r=n[0]}t&&(r=t(s||"",r))}return r}function c(e){return e.replace(/(&(?:lt|gt|amp|apos|quot|#(?:\d{1,6}|x[0-9a-fA-F]{1,5}));)/g,(function(e){if("#"===e[1]){const t="x"===e[2]?parseInt(e.substr(3),16):parseInt(e.substr(2),10);if(t>-1)return String.fromCharCode(t)}return r[e]||e}))}}stringify(e=new Object,t=""){this.#s;const r=this.#e,s=this.#t;let n="";for(let t in e)n+=a(e[t],t,"");return n=t?n.replace(/\t/g,t):n.replace(/\t|\n/g,""),n;function a(e,t,n){let c="";switch(typeof e){case"object":if(Array.isArray(e))c=e.reduce(((e,r)=>e+`${n}${a(r,t,`${n}\t`)}\n`),"");else{let o="",l=!1;for(let s in e)s[0]===r?(o+=` ${s.substring(1)}="${e[s].toString()}"`,delete e[s]):void 0===e[s]?t=s:l=!0;if(c+=`${n}<${t}${o}${l?"":"/"}>`,l){if("plist"===t)c+=i(e,t,`${n}\t`);else for(let t in e)if(t===s)c+=e[t];else c+=a(e[t],t,`${n}\t`);c+=("\n"===c.slice(-1)?n:"")+`</${t}>`}}break;case"string":switch(t){case"?xml":c+=`${n}<${t} ${e.toString()}?>\n`;break;case"?":c+=`${n}<${t}${e.toString()}${t}>`;break;case"!":c+=`${n}\x3c!--${e.toString()}--\x3e`;break;case"!DOCTYPE":c+=`${n}<!DOCTYPE ${e.toString()}>`;break;case"!CDATA":c+=`${n}<![CDATA[${e.toString()}]]>`;case s:c+=e;break;default:c+=`${n}<${t}>${e.toString()}</${t}>`}break;case"undefined":c+=n+`<${t.toString()}/>`}return c}function i(e,t,r){let s="";switch(typeof e){case"boolean":s=`${r}<${e.toString()}/>`;break;case"number":s=`${r}<real>${e.toString()}</real>`;break;case"bigint":s=`${r}<integer>${e.toString()}</integer>`;break;case"string":s=`${r}<string>${e.toString()}</string>`;break;case"object":let c="";if(Array.isArray(e)){for(var n=0,a=e.length;n<a;n++)c+=`${r}${i(e[n],t,`${r}\t`)}`;s=`${r}<array>${c}${r}</array>`}else{let t="";Object.entries(e).forEach((([e,s])=>{t+=`${r}<key>${e}</key>`,t+=i(s,e,r)})),s=`${r}<dict>${t}${r}</dict>`}}return s}}}(e)}
